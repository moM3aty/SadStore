@model IEnumerable<SadStore.Data.BlogPost>
@inject SadStore.Services.LanguageService Lang
@{
    ViewData["Title"] = Lang.Get("Blog");
    var isRtl = Lang.IsRtl();
}

<div class="product-page">
    <nav class="breadcrumb-nav py-4">
        <div class="container">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="/">
                        <span>@Lang.Get("Home")</span>
                        <i class="fas @(isRtl ? "fa-angle-left" : "fa-angle-right") mx-2 fs-6 breadcrumb-arrow"></i>
                    </a>
                </li>
                <li class="breadcrumb-item active">@Lang.Get("Blog")</li>
            </ol>
        </div>
    </nav>

    <div class="container py-5">
        <div class="row g-4">
            @foreach (var item in Model)
            {
                <div class="col-md-6 col-lg-4">
                    <a href="/Blogs/Details/@item.Id" class="blog-card-link text-decoration-none">
                        <div class="blog-card h-100 border rounded overflow-hidden shadow-sm">
                            <div class="blog-image position-relative" style="height: 250px;">
                                <img src="@item.ImageUrl" alt="@item.Title" class="w-100 h-100 object-fit-cover" onerror="this.src='/images/blog-default.jpg'">
                                <div class="blog-overlay position-absolute bottom-0 start-0 end-0 p-3 bg-dark bg-opacity-50">
                                    <h5 class="blog-title-overlay text-white mb-0">@item.Title</h5>
                                </div>
                            </div>
                            <div class="blog-content p-3 bg-white">
                                <div class="blog-meta text-muted small mb-2">
                                    <i class="fas fa-calendar-alt me-1"></i>
                                    <span>@item.PublishedDate.ToString("dd MMMM yyyy")</span>
                                </div>
                                <h5 class="blog-title text-dark fw-bold mb-2">@item.Title</h5>
                                <p class="blog-excerpt text-secondary mb-0">
                                    @(item.Content.Length > 100 ? item.Content.Substring(0, 100) + "..." : item.Content)
                                </p>
                            </div>
                        </div>
                    </a>
                </div>
            }

            @if (!Model.Any())
            {
                <div class="col-12 text-center py-5">
                    <p class="text-muted">@Lang.Get("No posts found")</p>
                </div>
            }
        </div>
    </div>
</div>